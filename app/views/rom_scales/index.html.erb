<%= provide(:title, "ROM一覧") %>
<%= render "shared/breadcrumb", patient: @patient, scale: "ROM"  %>
<div class="link_section d-flex justify-content-between">
  <div class="left_link">
    <%= link_to "患者ページに戻る", patient_path(@patient), class: "btn btn-info" %>
  </div>
  <div class="right_link">
    <%= link_to "新規作成", new_patient_rom_scale_path(@patient), class: "btn btn-primary" %>
  </div>
</div>
<div class="main-contents">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">作成日時</th>
        <th scope="col">概要</th>
        <th scope="col"></th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% @rom_scales.each_with_index do |rom_scale, i| %>
        <tr class="rom_score">
          <td class="rom<%= i %>-created-at"><%= rom_scale.created_at.strftime('%Y/%m/%d') %></td>
          <td class="rom<%= i %>-limit-part-count">
            <% if rom_scale.limit_part.empty? %>
              可動域制限はありません。
            <% else %>
              <%= rom_scale.limit_part.size %>箇所に可動域制限があります。
            <% end %>
          </td>
          <td>
            <%= link_to "詳細", patient_rom_scale_path(@patient, rom_scale), class: "rom#{i}_show_link show_link custom-btn btn-radius-solid" %>
          </td>
          <td>
            <%= link_to "編集", edit_patient_rom_scale_path(@patient, rom_scale), class: "rom#{i}_edit_link edit_link custom-btn btn-radius-solid" %>
          </td>
          <td>
            <%= link_to "削除", patient_rom_scale_path(@patient, rom_scale),class: "rom#{i}_delete_link delete_link custom-btn btn-radius-solid", method: :delete, data: { confirm: "ROMを削除します。よろしいですか?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
